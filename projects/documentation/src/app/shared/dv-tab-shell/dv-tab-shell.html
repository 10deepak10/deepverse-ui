<div class="glass-tabs-container">
  <dv-tabs [default]="defaultTab" [tabTemplate]="uiType == 'header' ? headerTabTemplate: defaultTabTemplate ">
    <dv-tab-item
      *ngFor="let tab of tabsToRender"
      [label]="tab.label"
      [slug]="tab.slug"
    >
    <div class="tab-content">
      <!-- Code tab -->
      <ng-container *ngIf="tab.slug === 'code'">
        <dv-icon
          [icon]="'assets/icons/copy.svg'"
          [color]="['#fff', '#efefef' , '#a1fe8c']"
          [size]="24"
          class="copy-btn"
          (click)="copyCode(codeBlock)"
        ></dv-icon>
        <div class="code-block" #codeBlock>
          <ng-container *ngTemplateOutlet="tab.templateRef"></ng-container>
        </div>
      </ng-container>
    
      <!-- Non-code tabs -->
      <ng-container *ngIf="tab.slug !== 'code'">
        <ng-container *ngTemplateOutlet="tab.templateRef"></ng-container>
      </ng-container>
    </div>
    
    </dv-tab-item>
  </dv-tabs>
  <ng-template #headerTabTemplate let-tab let-selectTab="selectTab">
    <button
      class="pill-tab"
      [class.active]="tab?.active"
      [disabled]="tab?.disabled"
      (click)="selectTab(tab)"
      type="button"
      [attr.aria-selected]="tab?.active"
      [attr.role]="'tab'"
    >
      {{ tab?.label }}
    </button>
  </ng-template>
  
  <ng-template #defaultTabTemplate let-tab let-selectTab="selectTab">
    <button
      class="glass-tab"
      [ngClass]="{
          'glass-tab--header': uiType === 'header',
          'active': tab.active
        }"
      [disabled]="tab.disabled"
      (click)="selectTab(tab)"
    >
      {{ tab.label }}
    </button>
  </ng-template>
</div>
